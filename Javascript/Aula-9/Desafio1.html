<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Desafio 1</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
</head>

<body>
  <form>
    <div class="mb-3">
      <label for="inputLoopCount" class="form-label">Counter FizzBuzz</label>
      <input type="number" class="form-control" id="inputLoopCount" aria-describedby="countHelp">
      <div id="countHelp" class="form-text">Resolve FizzBuzz.</div>
    </div>
    <button type="button" class="btn btn-primary" onclick="resolveFizzBuzz()">Resolve</button>
  </form>
  <!-- novo elemento para apresentar res -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO"
    crossorigin="anonymous"></script>
  </script>

  <script>

    class FizzBuzz {
      constructor(loopCount) {
        this.loopCount = loopCount
      }

      res() {
        let index = 0;
        if (this.loopCount>=0) { 
            document.getElementById("init").innerHTML = '<ul class="list-group">';
        }
        else{
            document.getElementById("init").innerHTML = '<label for="inputLoopCount" class="form-label">Error: Number must be a positive integer!</label>';
        }
        while (index <= this.loopCount) {
          // let currString = 'Numero -' + index + " : ";
          let currString = `Numero - ${index} : `;
          let isToPrint = false;

          if (index % 3 === 0) {
            currString += "Fizz";
            isToPrint = true;
          }
          if (index % 5 === 0) {
            currString += "Buzz";
            isToPrint = true;
          }
          if (isToPrint) {
            document.getElementById("init").innerHTML += '<li class="list-group-item">' + currString + '</li>';
          }
          index++;
        }
        if (this.loopCount>=0) {
            document.getElementById("init").innerHTML += "</ul>"
        }
      }
    }
      

    function getValueFromForm(){
        loopCount = document.getElementById("inputLoopCount").value;
    }

    function resolveFizzBuzz(){
        getValueFromForm();
        let myFizz = new FizzBuzz(loopCount);
        myFizz.res();
    }


  </script>
  <p id="init"></p>

</body>

</html>