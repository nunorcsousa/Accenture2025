<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Bootstrap demo</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
</head>

<body>
  <!-- init html code -->


  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO"
    crossorigin="anonymous"></script>

  <!-- Script for AJAX -->
  <script src="https://code.jquery.com/jquery-3.3.1.min.js"
    integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>

  <!-- https://developers.google.com/books/docs/v1/reference/volumes/get -->
  <script>
    // Class Book

    function getBooksFromGoogle(search) {
      const url = `https://www.googleapis.com/books/v1/volumes?q=${search}`

      fetch(url).then((response) => {
        if (response.ok) {
          return response.json();
        }
        throw new Error('Something went wrong');
      })
        .then((responseJson) => {
          // Do something with the response
          console.log(responseJson);
        })
        .catch((error) => {
          console.log(error)
        });
    }

    // let mypromise = new Promise((result, err)=>{
    //   fetch(url).then((response) => {
    //     if (response.ok) {
    //       return result(response.json());
    //     }
    //     return err(response.status)
    //   })
    // })


    async function getBooksFromGoogle(search) {
      const url = `https://www.googleapis.com/books/v1/volumes?q=${search}`

      const response = await fetch(url);
      console.log(response);

      if (response.ok) {
        const dataFromGoogle = await response.json();
        console.log(dataFromGoogle);

        // make Book class
        // map -> new Book()
      }
    }

    function getBooksFromGoogle(search) {
      $.get(`https://www.googleapis.com/books/v1/volumes?q=${search}`)
        .done(function(data) {
          console.log(data);

          data.items.forEach(element => {
            console.log(element)
          });
        })
        .fail(function(data) {
          console.error("Erro : ", data);
        });
    }

    getBooksFromGoogle('Javascript')

  </script>
</body>

</html>